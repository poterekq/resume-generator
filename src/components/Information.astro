---
import general from "../data/general"

import IconProvider from "./IconProvider.vue"

const { picture, resume } = Astro.props

function calcAge(dateString) {
  var birthday = +new Date(dateString)
  return ~~((Date.now() - birthday) / 31557600000)
}

const classNames = "flex items-center gap-x-2"
---

<>
	<div class="absolute -left-4 top-4 flex gap-x-4 items-center text-base">
		<div class="rounded-lg bg-white p-1 border-r-2">
			<img src={picture} class="w-24 h-32 rounded-lg"/>
		</div>
		<div class="flex flex-col items-center">
			<h1 class="text-xl font-semibold">{general.information.name}</h1>
			<p>{calcAge(general.information.birthDay)} ans</p>
			<p>{resume.position}</p>
			<p>{resume.experience}</p>
		</div>
	</div>
	<div class="text-neutral-500">
		<p class={classNames}><IconProvider name="push-pin" />{general.contact.city}</p>
		<p class={classNames}><IconProvider name="phone" />{general.contact.phone}</p>
		<a href={`mailto:${general.contact.mail}`} class={classNames}><IconProvider name="envelope" />{general.contact.mail}</a>
		<a href={general.contact.website} class={classNames}><IconProvider name="browser" />{general.contact.website}</a>
		<a href={general.contact.linkedin} class={classNames}><IconProvider name="linkedin-logo" />{general.contact.linkedin}</a>
	</div>
</>